# 基于函数式编程的高可信、可扩展的轻量分布式操作系统的实现

## 目标

我们的项目主要针对安全性与可信度要求比较高的，同时又有大规模运算
需求，需要分布式环境的领域，如银行、航空航天、军事等领域。目标是实现一
个轻量、可维护的，具有较高安全性、可靠性的，可扩展的，原生支持分布式计
算环境的操作系统。这一目标分以下几步完成：

1、使用于 C 语言更安全的函数式语言完成一个轻量的可信的内核，并尝试对其进
行安全验证；

2、在其上开发文件系统、shell 等操作系统必需的部件；

3、在操作系统层面支持类 Spark 的分布式计算系统。利用纯函数式语言对
MapReduce、简洁并发的原生支持，隐藏分布式的细节，提供一个简单的编程接
口以及易于扩展、适用于不同规模集群的部署能力。

## 项目优势

1、项目最大的特点或者优势在于内核级别的高可信。一般操作系统使用的 C 语
言具有脆弱的类型系统、松弛的边界检查以及严重的副作用(side effect)，这
样的系统一般易于出错，安全性难以得到保障。Haskell 通过 GHC 的编译可以
生成在某些方面接近 C 语言性能的优化代码，使得 Haskell 也可以用作系统编
程。而 Haskell 强类型、静态类型检查、纯函数式部分与I/O严格分离的的语言
特性，从语言层面保证了代码的高可靠性，从而从内核层面提升整个系统的安全
性。这对于系统安全是非常有意义的。

2、C 语言开发的操作系统常常在较为混乱的管理之下进行，软件工程的优秀实
践没有得到应用，代码难以维护，难于扩展。高级语言可以在构建过程中提供更
有效和自然的抽象机制，通过软件工程的手段，可以大大提高开发效率以及工程
的可维护性。而现代的高级语言发展趋势愈发趋向于借鉴经典函数式语言，特别是
在要求并发，类型安全，内存安全的场景下。而 Haskell 作为函数式语言发展的
前沿，非常适合作为这一实验的工具。Haskell 丰富的抽象机制、高度自动化的
测试机制和强大的DSL（领域特定语言）能力更是能为接口的设计和系统的实现带来
便捷。

3、另一个优势是对并行、分布式的内建支持。Haskell 语言作为纯函数式语言，
除了安全，还直接支持 MapReduce 编程模型（或者不如说这一并行编程模型就
是从函数式语言借鉴而来的），内建支持并发，在此基础上比较容易实现更大规
模的、分布式的并行计算系统。在之前可信内核的基础上，这样的系统更为安全
可靠；而通过语言的支持，这样的系统会具有更强的伸缩性，可以实现计算资源
的静默利用，无需用户层面、程序层面过多关心，非常适合于非计算的金融、军
事等领域。

## 初步设计
1、Kernel 部分，包括 Scheduler、Resource Management 等用 Haskell
编写；

2、RTS 部分，包括 GC 等仍用 C 实现，可移植于 GHC；

3、IA32 操作使用 Monad 封装，为上层的 Haskell 代码提供统一的接口，
并做到 Non-pure Code 和 Pure Code 的隔离。

## 可行性分析


2、Haskell 应用于内核领域都已经有开源的案例，我们的可以在此基础上进一
步研讨安全性与分布式结合的问题，并且做出有意义的工作。

3、项目层次清晰，目标明确，工作量应当能够较为准确地估计，并且有计划地
完成。

以上是对于我们想要做的工作的简要描述。更多的细节将在调研报告中详细分析
引证。
